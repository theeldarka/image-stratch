import{a as H,o as D,b as S,e as i,t as w,f as le,w as x,h as z,i as ae,j as E,F as R,r as k,k as $,l as se,m as _,p as y,q as M,u as K,s as F,v as T,x as ie,y as A,z as L,A as N,B as U,C as ue,D as de}from"./entry.3b4caffa.js";const ce={name:"DropZone",methods:{openFileBrowser(){this.$refs.dropzoneFile.click()},activateDropzone(){this.active=!0},deactivateDropzone(){this.active=!1}},data(){return{active:!1}}},pe={class:"pointer-events-none flex flex-col items-center justify-center pt-5 pb-6 transition-all duration-300 ease-in-out text-center"},fe=i("svg",{"aria-hidden":"true",class:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),he={key:0,class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},me={key:1,class:"flex flex-col"},ge={class:"mb-2 text-sm text-gray-500 dark:text-gray-400"},ve={class:"font-semibold"},be={class:"text-xs text-gray-500 dark:text-gray-400 text-center"},ye={type:"file",accept:"image/jpeg,image/png,image/bmp",ref:"dropzoneFile",id:"dropzoneFile",class:"hidden"};function we(e,t,r,n,o,l){return D(),S("div",{onDragenter:t[0]||(t[0]=x((...a)=>l.activateDropzone&&l.activateDropzone(...a),["prevent"])),onDragleave:t[1]||(t[1]=x((...a)=>l.deactivateDropzone&&l.deactivateDropzone(...a),["prevent"])),onDragover:t[2]||(t[2]=x(()=>{},["prevent"])),onDrop:t[3]||(t[3]=x((...a)=>l.deactivateDropzone&&l.deactivateDropzone(...a),["prevent"])),class:z([{"active-dropzone":o.active},"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 transition-all duration-300 ease-in-out"]),onClick:t[4]||(t[4]=(...a)=>l.openFileBrowser&&l.openFileBrowser(...a))},[i("div",pe,[fe,o.active?(D(),S("span",he,w(e.$t("dropzone.here")),1)):(D(),S("div",me,[i("span",ge,[i("span",ve,w(e.$t("dropzone.click")),1),le(" "+w(e.$t("dropzone.dragAndDrop")),1)]),i("span",be,w(e.$t("dropzone.extensions")),1)]))]),i("input",ye,null,512)],34)}const Z=H(ce,[["render",we]]);function G(e,t,...r){if(e in t){let o=t[e];return typeof o=="function"?o(...r):o}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,G),n}var ke=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ke||{}),xe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(xe||{});function j({visible:e=!0,features:t=0,ourProps:r,theirProps:n,...o}){var l;let a=W(n,r),p=Object.assign(o,{props:a});if(e||t&2&&a.static)return B(p);if(t&1){let u=(l=a.unmount)==null||l?0:1;return G(u,{[0](){return null},[1](){return B({...o,props:{...a,hidden:!0,style:{display:"none"}}})}})}return B(p)}function B({props:e,attrs:t,slots:r,slot:n,name:o}){var l,a;let{as:p,...u}=q(e,["unmount","static"]),c=(l=r.default)==null?void 0:l.call(r,n),f={};if(n){let h=!1,m=[];for(let[v,b]of Object.entries(n))typeof b=="boolean"&&(h=!0),b===!0&&m.push(v);h&&(f["data-headlessui-state"]=m.join(" "))}if(p==="template"){if(c=I(c??[]),Object.keys(u).length>0||Object.keys(t).length>0){let[h,...m]=c??[];if(!je(h)||m.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).map(d=>d.trim()).filter((d,s,g)=>g.indexOf(d)===s).sort((d,s)=>d.localeCompare(s)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));let v=W((a=h.props)!=null?a:{},u),b=ae(h,v);for(let d in v)d.startsWith("on")&&(b.props||(b.props={}),b.props[d]=v[d]);return b}return Array.isArray(c)&&c.length===1?c[0]:c}return E(p,Object.assign({},u,f),{default:()=>c})}function I(e){return e.flatMap(t=>t.type===R?I(t.children):[t])}function W(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let o in n)o.startsWith("on")&&typeof n[o]=="function"?(r[o]!=null||(r[o]=[]),r[o].push(n[o])):t[o]=n[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](o,...l){let a=r[n];for(let p of a){if(o instanceof Event&&o.defaultPrevented)return;p(o,...l)}}});return t}function _e(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function q(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function je(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let De=0;function Se(){return++De}function P(){return Se()}var C=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(C||{});function O(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}function V(e,t){if(e)return e;let r=t??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Oe(e,t){let r=k(V(e.value.type,e.value.as));return $(()=>{r.value=V(e.value.type,e.value.as)}),se(()=>{var n;r.value||O(t)&&O(t)instanceof HTMLButtonElement&&!((n=O(t))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}var Y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Y||{});let $e=_({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:r}){return()=>{let{features:n,...o}=e,l={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return j({ourProps:l,theirProps:o,slot:{},attrs:r,slots:t,name:"Hidden"})}}});function Be(e){var t;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let n of r.elements)if(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image"){n.click();return}}}function ze(e,t,r){let n=k(r==null?void 0:r.value),o=y(()=>e.value!==void 0);return[y(()=>o.value?e.value:n.value),function(l){return o.value||(n.value=l),t==null?void 0:t(l)}]}let J=Symbol("DescriptionContext");function Ee(){let e=F(J,null);if(e===null)throw new Error("Missing parent");return e}function Ce({slot:e=k({}),name:t="Description",props:r={}}={}){let n=k([]);function o(l){return n.value.push(l),()=>{let a=n.value.indexOf(l);a!==-1&&n.value.splice(a,1)}}return T(J,{register:o,slot:e,name:t,props:r}),y(()=>n.value.length>0?n.value.join(" "):void 0)}_({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${P()}`}},setup(e,{attrs:t,slots:r}){let n=Ee();return $(()=>M(n.register(e.id))),()=>{let{name:o="Description",slot:l=k({}),props:a={}}=n,{id:p,...u}=e,c={...Object.entries(a).reduce((f,[h,m])=>Object.assign(f,{[h]:K(m)}),{}),id:p};return j({ourProps:c,theirProps:u,slot:l.value,attrs:t,slots:r,name:o})}}});let Q=Symbol("LabelContext");function X(){let e=F(Q,null);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return e}function Fe({slot:e={},name:t="Label",props:r={}}={}){let n=k([]);function o(l){return n.value.push(l),()=>{let a=n.value.indexOf(l);a!==-1&&n.value.splice(a,1)}}return T(Q,{register:o,slot:e,name:t,props:r}),y(()=>n.value.length>0?n.value.join(" "):void 0)}_({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${P()}`}},setup(e,{slots:t,attrs:r}){let n=X();return $(()=>M(n.register(e.id))),()=>{let{name:o="Label",slot:l={},props:a={}}=n,{id:p,passive:u,...c}=e,f={...Object.entries(a).reduce((h,[m,v])=>Object.assign(h,{[m]:K(v)}),{}),id:p};return u&&(delete f.onClick,delete f.htmlFor,delete c.onClick),j({ourProps:f,theirProps:c,slot:l,attrs:r,slots:t,name:o})}}});let ee=Symbol("GroupContext");_({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let n=k(null),o=Fe({name:"SwitchLabel",props:{htmlFor:y(()=>{var a;return(a=n.value)==null?void 0:a.id}),onClick(a){n.value&&(a.currentTarget.tagName==="LABEL"&&a.preventDefault(),n.value.click(),n.value.focus({preventScroll:!0}))}}}),l=Ce({name:"SwitchDescription"});return T(ee,{switchRef:n,labelledby:o,describedby:l}),()=>j({theirProps:e,ourProps:{},slot:{},slots:t,attrs:r,name:"SwitchGroup"})}});let Te=_({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${P()}`}},inheritAttrs:!1,setup(e,{emit:t,attrs:r,slots:n,expose:o}){let l=F(ee,null),[a,p]=ze(y(()=>e.modelValue),s=>t("update:modelValue",s),y(()=>e.defaultChecked));function u(){p(!a.value)}let c=k(null),f=l===null?c:l.switchRef,h=Oe(y(()=>({as:e.as,type:r.type})),f);o({el:f,$el:f});function m(s){s.preventDefault(),u()}function v(s){s.key===C.Space?(s.preventDefault(),u()):s.key===C.Enter&&Be(s.currentTarget)}function b(s){s.preventDefault()}let d=y(()=>{var s,g;return(g=(s=O(f))==null?void 0:s.closest)==null?void 0:g.call(s,"form")});return $(()=>{ie([d],()=>{if(!d.value||e.defaultChecked===void 0)return;function s(){p(e.defaultChecked)}return d.value.addEventListener("reset",s),()=>{var g;(g=d.value)==null||g.removeEventListener("reset",s)}},{immediate:!0})}),()=>{let{id:s,name:g,value:te,...ne}=e,re={checked:a.value},oe={id:s,ref:f,role:"switch",type:h.value,tabIndex:0,"aria-checked":a.value,"aria-labelledby":l==null?void 0:l.labelledby.value,"aria-describedby":l==null?void 0:l.describedby.value,onClick:m,onKeyup:v,onKeypress:b};return E(R,[g!=null&&a.value!=null?E($e,_e({features:Y.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:a.value,name:g,value:te})):null,j({ourProps:oe,theirProps:{...r,...q(ne,["modelValue","defaultChecked"])},slot:re,attrs:r,slots:n,name:"Switch"})])}}});const Pe={components:{Switch:Te,DropZone:Z},data(){return{wantBlackBackground:!0,width:1920,height:1080,dropzoneFile:null}},methods:{fileDropped(e){this.dropzoneFile=e.dataTransfer.files[0],this.sendFile(this.dropzoneFile)},fileSelected(){this.dropzoneFile=document.querySelector("#dropzoneFile").files[0],this.sendFile(this.dropzoneFile)},sendFile(e){const t=new FormData;t.append("image",e),t.append("width",this.width),t.append("height",this.height),t.append("black_background",this.wantBlackBackground),fetch("/process-image",{method:"POST",body:t}).then(r=>{if(!r.ok)throw new Error(r.statusText);return r.blob()}).then(this.downloadFile).catch(r=>{console.error("Error:",r),A().error(this.$t("status.error")+": "+r.message)})},downloadFile(e){const t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.setAttribute("download","image.jpg"),document.body.appendChild(r),r.click(),A().success(this.$t("status.success"))}}},Ae={class:"w-[350px] flex flex-col gap-4 justify-center my-auto"},Le={class:"block text-sm font-medium leading-6 text-gray-900"},Ne={class:"mt-2 -space-y-px rounded-md bg-white shadow-sm"},Ue={class:"flex -space-x-px"},Ve={class:"w-1/2 min-w-0 flex-1"},He={for:"width",class:"sr-only"},Re={class:"min-w-0 flex-1"},Me={for:"height",class:"sr-only"},Ke={class:"flex align-baseline justify-between"},Ze={class:"font-medium text-sm"},Ge=["value"];function Ie(e,t,r,n,o,l){const a=de("Switch"),p=Z;return D(),S("form",{onSubmit:t[3]||(t[3]=u=>{u.preventDefault()}),class:"container mx-auto flex flex-row gap-4 justify-center",style:{"min-height":"inherit"}},[i("div",Ae,[i("fieldset",null,[i("legend",Le,w(e.$t("form.output_size")),1),i("div",Ne,[i("div",Ue,[i("div",Ve,[i("label",He,w(e.$t("form.width")),1),L(i("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o.width=u),type:"text",name:"width",id:"width",class:"text-center relative block w-full rounded-l-md border-0 bg-transparent py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"1920"},null,512),[[N,o.width]])]),i("div",Re,[i("label",Me,w(e.$t("form.height")),1),L(i("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>o.height=u),type:"text",name:"height",id:"height",class:"text-center relative block w-full rounded-r-md border-0 bg-transparent py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"1080"},null,512),[[N,o.height]])])])])]),i("fieldset",Ke,[i("span",Ze,w(e.$t("form.black_background")),1),U(a,{modelValue:o.wantBlackBackground,"onUpdate:modelValue":t[2]||(t[2]=u=>o.wantBlackBackground=u),class:z([o.wantBlackBackground?"bg-indigo-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"])},{default:ue(()=>[i("span",{"aria-hidden":"true",class:z([o.wantBlackBackground?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),i("input",{type:"hidden",id:"black_background",name:"black_background",value:o.wantBlackBackground},null,8,Ge)]),U(p,{onDrop:x(l.fileDropped,["prevent"]),onChange:l.fileSelected},null,8,["onDrop","onChange"])])],32)}const qe=H(Pe,[["render",Ie]]);export{qe as default};
